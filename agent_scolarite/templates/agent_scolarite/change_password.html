{% extends 'html/ltr/vertical-menu/index.html' %}  
{% block content %}
<style>
    .button { 
       color: #f96f59;
    }
</style>
<div class="app-content content">
    <div class="content-wrapper">
        <div class="content-header row">
        </div>
        <section class="card">
            <div class="card-content">
                <div class="card-body">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-12">
                                <p class="text-bold-700 text-uppercase mb-0">Changer mot de passe</p>
                            </div>
                        </div>
                        <hr/>

                        <!-- Changer le mot de passe Form -->
                        <form class="form-horizontal form-user-profile row mt-2" method="post" name="changepassword" onsubmit="return checkpassword()">
                            {% csrf_token %}
                            {% if error %}
                                <div class="col-12">
                                    <div class="alert alert-danger">{{ error }}</div>
                                </div>
                            {% endif %}
                            
                            <div class="col-12">
                                <fieldset class="form-label-group">
                                    <input type="password" class="form-control" id="oldpassword" name="oldpassword" placeholder="Enter current password" required="">
                                    <label for="oldpassword">Mot de passe actuel</label>
                                </fieldset>
                            </div>
                            
                            <div class="col-12">
                                <fieldset class="form-label-group">
                                    <input type="password" class="form-control" id="newpassword" name="newpassword" placeholder="Enter new password" required="">
                                    <label for="newpassword">Nouveau mot de passe</label>
                                </fieldset>
                            </div>
                            
                            <div class="col-12">
                                <fieldset class="form-label-group">
                                    <input type="password" class="form-control" id="confirmpassword" name="confirmpassword" placeholder="Confirm new password" required="">
                                    <label for="confirmpassword">Confirmez le nouveau mot de passe</label>
                                </fieldset>
                            </div>
                            
                            <div class="col-12 text-right">
                                <button type="submit" class="btn-gradient-primary my-1">Changer le mot de passe</button>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<script>
function checkpassword() {
    var newPassword = document.getElementById('newpassword').value;
    var confirmPassword = document.getElementById('confirmpassword').value;
    if (newPassword !== confirmPassword) {
        alert('Les mots de passe ne correspondent pas.');
        document.getElementById('confirmpassword').focus();
        return false;
    }
    return true;
}
</script>

{% endblock %}
